<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd">
    <beans>
        <bean id="messageSource"
              class="com.proper.enterprise.platform.sys.i18n.AntPatternReloadableResourceBundleMessageSource">
            <property name="defaultEncoding" value="UTF-8"/>
            <property name="useCodeAsDefaultMessage" value="true"/>
            <property name="basename">
                <value>classpath*:i18n/**/*-i18n.properties</value>
            </property>
        </bean>
        <bean id="validator" class="org.springframework.validation.beanvalidation.LocalValidatorFactoryBean">
            <property name="providerClass" value="org.hibernate.validator.HibernateValidator"/>
            <property name="validationMessageSource" ref="messageSource"/>
            <property name="validationPropertyMap">
                <map>
                    <entry key="hibernate.validator.fail_fast" value="true"></entry>
                </map>
            </property>
        </bean>
        <bean id="methodValidationPostProcessor"
              class="org.springframework.validation.beanvalidation.MethodValidationPostProcessor">
            <property name="validator" ref="validator"/>
        </bean>
        <context:property-placeholder location="classpath:conf/sys/sys.properties" ignore-unresolvable="true"/>
    </beans>

</beans>
