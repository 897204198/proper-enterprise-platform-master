ext {
    versions = [:]
    libraries = [:]
}

versions.flowable           = '6.2.1-SNAPSHOT'
versions.groovy             = '2.4.3'
versions.hibernate          = '4.3.10.Final'
versions.jackson            = '2.8.1'
//versions.jcaptcha         = '1.0'
versions.logback            = '1.1.3'
versions.mongo              = '3.2.2'
versions.quartz             = '2.2.1'
versions.slf4j              = '1.7.21'
versions.spring             = '4.3.0.RELEASE'
versions.spring_integration = '4.3.9.RELEASE'
versions.spring_security    = '4.2.3.RELEASE'

configurations.all {
    resolutionStrategy.force 'xml-apis:xml-apis:1.4.01'
    // 强制所有依赖使用相同版本的 Spring Framework
    resolutionStrategy.eachDependency { DependencyResolveDetails details ->
        def req = details.requested
        if (req.group == 'org.springframework' && req.name != 'springloaded') {
            details.useVersion versions.spring
        } else if (req.name == 'mongo-java-driver') {
            details.useTarget "org.mongodb:mongodb-driver:${versions.mongo}"
        }

        def nameVers = [
            'guava': '20.0',
            'javassist': '3.19.0-GA',
            'jcl-over-slf4j': versions.slf4j,
            // spring-data-jpa & spring-data-mongodb 依赖不同版本的 spring-data-commons 会有冲突
            'spring-data-commons': '1.11.4.RELEASE',
            // xalan < 2.7.0 的版本会导致与 spring-ws 的冲突
            // http://stackoverflow.com/questions/12467186/java-spring-ws-org-springframework-ws-soap-saaj-saajsoapenvelopeexception-could/13156775#13156775
            'xalan': '2.7.2'
        ]
        nameVers.each { name, ver ->
            if (req.name == name) {
                details.useVersion ver
            }
        }

        def groupVers = [
            'com.fasterxml.jackson.core': versions.jackson,
            'com.fasterxml.jackson.dataformat': versions.jackson,
            'org.codehaus.groovy': versions.groovy,
            // spring security 被 flowable 直接依赖
            'org.springframework.security': versions.spring_security
        ]
        groupVers.each { group, ver ->
            if (req.group == group) {
                details.useVersion ver
            }
        }
    }
    exclude group: 'org.slf4j', module: 'slf4j-log4j12'
    exclude group: 'org.apache.commons.logging'
    exclude group: 'org.apache.log4j'
    exclude group: 'log4j'
}

//libraries.aspectjrt = "org.aspectj:aspectjrt:${versions.aspectj}"
libraries.aspectjweaver = "org.aspectj:aspectjweaver:1.8.6"

//libraries.cas_server_core = 'org.jasig.cas:cas-server-core:3.5.2'

//libraries.cas_client_core = 'org.jasig.cas.client:cas-client-core:3.1.12'

//libraries.cglib = 'cglib:cglib:2.2'

//libraries.commons_collections = 'commons-collections:commons-collections:3.2.1'

libraries.cmb_b2b = 'com.cmb.b2b:cmb-b2b:1.0.0'
libraries.cmb_pay = 'com.cmb.pay:cmb-pay:1.0.0'

libraries.ali_webpay = 'com.ali.webpay:ali-webpay:1.0.0'

libraries.commons_codec = 'commons-codec:commons-codec:1.10'

libraries.commons_fileupload = 'commons-fileupload:commons-fileupload:1.3.1'

libraries.commons_lang3 = 'org.apache.commons:commons-lang3:3.4'

libraries.ehcache = 'net.sf.ehcache:ehcache-core:2.6.9'

libraries.flowable_engine = "com.proper.enterprise.platform:flowable-engine:${versions.flowable}"
libraries.flowable_json_converter = "com.proper.enterprise.platform:flowable-json-converter:${versions.flowable}"
libraries.flowable_rest = "com.proper.enterprise.platform:flowable-rest:${versions.flowable}"
libraries.flowable_spring = "com.proper.enterprise.platform:flowable-spring:${versions.flowable}"
//libraries.flowable_ui_modeler_conf="com.proper.enterprise.platform:flowable-ui-modeler-conf:${versions.flowable}"
libraries.flowable_ui_modeler_logic = "com.proper.enterprise.platform:flowable-ui-modeler-logic:${versions.flowable}"
libraries.flowable_ui_modeler_rest = "com.proper.enterprise.platform:flowable-ui-modeler-rest:${versions.flowable}"
libraries.flowable_web_designer="com.proper.enterprise.platform:flowable-web-designer:${versions.flowable}"

// groovy-all include all below modules, used by code quality and workflow module
libraries.groovy_all = "org.codehaus.groovy:groovy-all:${versions.groovy}"
// sub modules
libraries.groovy = "org.codehaus.groovy:groovy:${versions.groovy}"
// libraries.groovy_ant = "org.codehaus.groovy:groovy-ant:${versions.groovy}"
// libraries.groovy_bsf = "org.codehaus.groovy:groovy-bsf:${versions.groovy}"
// libraries.groovy_console = "org.codehaus.groovy:groovy-console:${versions.groovy}"
// libraries.groovy_docgenerator = "org.codehaus.groovy:groovy-docgenerator:${versions.groovy}"
// libraries.groovy_groovydoc = "org.codehaus.groovy:groovy-groovydoc:${versions.groovy}"
// libraries.groovy_groovysh = "org.codehaus.groovy:groovy-groovysh:${versions.groovy}"
// libraries.groovy_jmx = "org.codehaus.groovy:groovy-jmx:${versions.groovy}"
libraries.groovy_json = "org.codehaus.groovy:groovy-json:${versions.groovy}"
// libraries.groovy_jsr223 = "org.codehaus.groovy:groovy-jsr223:${versions.groovy}"
// libraries.groovy_servlet = "org.codehaus.groovy:groovy-servlet:${versions.groovy}"
libraries.groovy_sql = "org.codehaus.groovy:groovy-sql:${versions.groovy}"
// libraries.groovy_swing = "org.codehaus.groovy:groovy-swing:${versions.groovy}"
// libraries.groovy_test = "org.codehaus.groovy:groovy-test:${versions.groovy}"
// libraries.groovy_testng = "org.codehaus.groovy:groovy-testng:${versions.groovy}"
// libraries.groovy_xml = "org.codehaus.groovy:groovy-xml:${versions.groovy}"

//libraries.guava = 'com.google.guava:guava:18.0'

libraries.h2 = 'com.h2database:h2:1.3.176'

//libraries.hibernate_c3p0 = "org.hibernate:hibernate-c3p0:${versions.hibernate}"
//libraries.hibernate_core = "org.hibernate:hibernate-core:${versions.hibernate}"
libraries.hibernate_ehcache = [
    "org.hibernate:hibernate-ehcache:${versions.hibernate}",
    libraries.ehcache
]
libraries.hibernate_entitymanager = "org.hibernate:hibernate-entitymanager:${versions.hibernate}"
//libraries.hibernate_envers = "org.hibernate:hibernate-envers:${versions.hibernate}"
libraries.hibernate_hikaricp = dependencies.module("org.hibernate:hibernate-hikaricp:${versions.hibernate}") {
    dependency 'com.zaxxer:HikariCP-java7:2.4.9'
}
//libraries.hibernate_infinispan = "org.hibernate:hibernate-infinispan:${versions.hibernate}"
//libraries.hibernate_proxool = "org.hibernate:hibernate-proxool:${versions.hibernate}"
libraries.hibernate_redis = 'com.github.debop:hibernate-redis:2.3.1'

//libraries.jackson_annotations = "com.fasterxml.jackson.core:jackson-annotations:${versions.jackson}"
//libraries.jackson_core = "com.fasterxml.jackson.core:jackson-core:${versions.jackson}"
//libraries.jackson_databind = "com.fasterxml.jackson.core:jackson-databind:${versions.jackson}"
libraries.jackson_databind = 'com.fasterxml.jackson.core:jackson-databind:2.6.3'

libraries.javax_inject = "javax.inject:javax.inject:1"

libraries.jaxws_rt = 'com.sun.xml.ws:jaxws-rt:2.1.7'

//libraries.jcaptcha = dependencies.module("com.octo.captcha:jcaptcha:${versions.jcaptcha}") {
//    dependency "com.octo.captcha:jcaptcha-api:${versions.jcaptcha}"
//   exclude group: 'com.jhlabs', module: 'imaging'
//}

libraries.jpa_api = 'org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.0.Final'

libraries.joda_time = 'joda-time:joda-time:2.9.4'

libraries.junit = 'junit:junit:4.12'

//libraries.json_lib = 'net.sf.json-lib:json-lib:2.4:jdk15@jar'

//libraries.jsp_api = 'javax.servlet.jsp:jsp-api:2.2'

//libraries.jstl = 'jstl:jstl:1.2'

libraries.logback_classic = dependencies.module("ch.qos.logback:logback-classic:${versions.logback}") {
    dependency "ch.qos.logback:logback-core:${versions.logback}"
}

libraries.mongodb_driver = "org.mongodb:mongodb-driver:${versions.mongo}"

libraries.mysql_driver = 'org.mariadb.jdbc:mariadb-java-client:1.5.4'
//libraries.mysql_driver = 'mysql:mysql-connector-java:5.1.38'

libraries.okhttp = 'com.squareup.okhttp3:okhttp:3.4.1'
libraries.oracle_driver = 'com.oracle:ojdbc6:1.0'

libraries.pinyin4j = 'com.belerweb:pinyin4j:2.5.0'

//libraries.poi = 'org.apache.poi:poi:3.7'

libraries.quartz = [
    "org.quartz-scheduler:quartz:${versions.quartz}"
//    "org.quartz-scheduler:quartz-jobs:${versions.quartz}"
]

libraries.redisson = 'org.redisson:redisson:3.5.3'

libraries.reflections = 'org.reflections:reflections:0.9.11'

libraries.servlet_api = 'javax.servlet:javax.servlet-api:3.0.1'

libraries.slf4j_api = "org.slf4j:slf4j-api:${versions.slf4j}"

libraries.spock = [
    'org.spockframework:spock-core:1.0-groovy-2.4@jar',
    libraries.groovy,
    'org.objenesis:objenesis:2.4',
    'cglib:cglib-nodep:2.2.2'
]

//libraries.spring_beans = "org.springframework:spring-beans:${versions.spring}"
//libraries.spring_context = "org.springframework:spring-context:${versions.spring}"
libraries.spring_context_support = "org.springframework:spring-context-support:${versions.spring}"
//libraries.spring_core = "org.springframework:spring-core:${versions.spring}"
libraries.spring_orm = [
    "org.springframework:spring-orm:${versions.spring}",
    libraries.aspectjweaver
]
libraries.spring_oxm = "org.springframework:spring-oxm:${versions.spring}"
libraries.spring_test = "org.springframework:spring-test:${versions.spring}"
//libraries.spring_tx = "org.springframework:spring-tx:${versions.spring}"
//libraries.spring_web = "org.springframework:spring-web:${versions.spring}"
libraries.spring_webmvc = "org.springframework:spring-webmvc:${versions.spring}"
libraries.spring_jms = "org.springframework:spring-jms:${versions.spring}"

libraries.spring_data_jpa = 'org.springframework.data:spring-data-jpa:1.9.4.RELEASE'
libraries.spring_data_mongodb = 'org.springframework.data:spring-data-mongodb:1.8.4.RELEASE'

//libraries.spring_data_redis = [
//    'org.springframework.data:spring-data-redis:1.7.5.RELEASE',
//    'org.apache.commons:commons-pool2:2.2',
//    'redis.clients:jedis:2.9.0'
//]

libraries.spring_integration = "org.springframework.integration:spring-integration-core:${versions.spring_integration}"
libraries.spring_integration_stream = "org.springframework.integration:spring-integration-stream:${versions.spring_integration}"
libraries.spring_integration_ws = "org.springframework.integration:spring-integration-ws:${versions.spring_integration}"
libraries.spring_integration_xml = "org.springframework.integration:spring-integration-xml:${versions.spring_integration}"
libraries.spring_integration_jdbc = "org.springframework.integration:spring-integration-jdbc:${versions.spring_integration}"

//libraries.spring_security_acl = "org.springframework.security:spring-security-acl:${versions.spring_security}"
//libraries.spring_security_cas = "org.springframework.security:spring-security-cas:${versions.spring_security}"
//libraries.spring_security_config = "org.springframework.security:spring-security-config:${versions.spring_security}"
//libraries.spring_security_core = "org.springframework.security:spring-security-core:${versions.spring_security}"
//libraries.spring_security_crypto = "org.springframework.security:spring-security-crypto:${versions.spring_security}"
//libraries.spring_security_taglibs = "org.springframework.security:spring-security-taglibs:${versions.spring_security}"
//libraries.spring_security_test = "org.springframework.security:spring-security-test:${versions.spring_security}"
//libraries.spring_security_web = "org.springframework.security:spring-security-web:${versions.spring_security}"

//libraries.urlrewritefilter = 'org.tuckey:urlrewritefilter:4.0.3'

libraries.nutz='org.nutz:nutz:1.r.56'
libraries.activemq_broker='org.apache.activemq:activemq-broker:5.14.3'
//ios apns push sdk. see: https://github.com/relayrides/pushy/
libraries.push_vendor_apns=[
    'com.relayrides:pushy:0.9.3'
]

//android huawei push sdk
libraries.push_vendor_huawei=[
    'com.huawei.pushapi:huaweiPushSdk:0.3.12',
    'org.apache.httpcomponents:httpclient:4.3.3',
    'org.apache.httpcomponents:httpclient-cache:4.3.3',
    'org.apache.httpcomponents:fluent-hc:4.3.3',
    'org.apache.httpcomponents:httpmime:4.3.3',
    'com.alibaba:fastjson:1.1.32'
]
//android xiaomi push sdk
libraries.push_vendor_xiaomi=[
    'com.xiaomi.pushapi:xiaomiPushSdk:2.2.16',
    'com.googlecode.json-simple:json-simple:1.1.1'
]
