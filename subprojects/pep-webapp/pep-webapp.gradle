buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'org.akhikhl.gretty:gretty:1.2.4'
    }
}

repositories {
    jcenter()
}

apply plugin: 'org.akhikhl.gretty'
apply plugin: 'eclipse-wtp'
apply plugin: 'war'

gretty {
    servletContainer = 'tomcat7'
    httpPort = 9090
    contextPath = 'pep'
    debugSuspend = false
    fileLogEnabled = false
    managedClassReload = true
    serverConfigFile = "$project.projectDir/config/tomcat/server.xml"
}

dependencies {
//    compile project(':pep-auth-security')
    compile project(':pep-auth-jwt')

    runtime project(':pep-workflow'),
            libraries.commons_fileupload,
            libraries.h2,
            libraries.hibernate_ehcache,
            libraries.hibernate_hikaricp,
            libraries.jackson_databind,
            libraries.spring_context_support,
            libraries.spring_orm,
            libraries.spring_webmvc

    testCompile libraries.ehcache,
                project(':pep-test')
}

task cleanOut(type: Delete) {
    delete "${rootProject.projectDir}/out"
}
