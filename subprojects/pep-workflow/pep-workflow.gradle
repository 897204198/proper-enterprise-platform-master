sourceSets {
    main {
        groovy {
            srcDirs = ['src/main/groovy', 'src/main/java']
        }
        java {
            srcDirs = [] // don't compile Java code twice
        }
    }
}

dependencies {
    compile libraries.activiti_engine,
            libraries.activiti_explorer,
            libraries.activiti_json_converter,
            libraries.activiti_rest,
            libraries.activiti_spring,
            // use modeler in compile block only when need to insert demo data
            //libraries.activiti_modeler,
            libraries.groovy,
            libraries.servlet_api,
            project(':pep-core')

    runtime libraries.activiti_diagram_rest,
            libraries.activiti_modeler
//            libraries.activiti_simple_workflow

    runtime files("libs/activiti-web-designer-${versions.activiti}.jar")

    testCompile project(':pep-test')

    testRuntime libraries.commons_fileupload
}